{"ast":null,"code":"var _jsxFileName = \"/home/dwight/workspaces/javascript/projects/alimentacao-balanceada/frontend/src/components/Quiz/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Feedback from '../Feedback';\nimport { useNavigate } from 'react-router-dom';\nimport './styles.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Quiz() {\n  _s();\n\n  const [round, setRound] = useState(0);\n  const [quizOptions, setQuizOptions] = useState([]);\n  const [showFeedback, setShowFeedback] = useState(false);\n  const [answeredCorrectly, setAnsweredCorrectly] = useState();\n  const carbs = useSelector(state => state.foods.carbs);\n  const prots = useSelector(state => state.foods.prots);\n  const fats = useSelector(state => state.foods.fats);\n  useEffect(() => {\n    function includeRandomFoodInQuizOptions(foodArray) {\n      const randomFood = foodArray[Math.floor(Math.random() * foodArray.length)];\n      setQuizOptions(state => [...state, randomFood]);\n    }\n\n    const areFoodArraysNotDefined = carbs.length === 0;\n    if (areFoodArraysNotDefined) return;\n    setQuizOptions([]);\n    includeRandomFoodInQuizOptions(carbs);\n    includeRandomFoodInQuizOptions(prots);\n    includeRandomFoodInQuizOptions(fats);\n  }, [round, carbs, prots, fats]);\n  useEffect(() => {\n    if (isQuizOver()) setShowFeedback(true);\n  }, [round]);\n\n  const isItProteinRound = () => round === 0 || round === 1;\n\n  const isItCarbRound = () => round === 2 || round === 3;\n\n  const isItFatRound = () => round === 4;\n\n  const isQuizOver = () => round === 5;\n\n  function handleOptionClick(option) {\n    if (isItCarbRound()) setAnsweredCorrectly(carbs.includes(option));\n    if (isItProteinRound()) setAnsweredCorrectly(prots.includes(option));\n    if (isItFatRound()) setAnsweredCorrectly(fats.includes(option));\n    setShowFeedback(true);\n  }\n\n  function handleFeedbackBtnClick() {\n    if (isQuizOver()) redirec;else if (answeredCorrectly) setRound(state => state + 1);\n    setShowFeedback(false);\n  }\n\n  function getFeedbackVariant() {\n    if (isQuizOver()) return 'end';else if (answeredCorrectly) return 'positive';else return 'negative';\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showFeedback ? /*#__PURE__*/_jsxDEV(Feedback, {\n      variant: getFeedbackVariant(),\n      callback: handleFeedbackBtnClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"article\", {\n      id: \"quiz\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Quais desses alimentos cont\\xE9m muitas\", isItCarbRound() && ' carboidratos', isItProteinRound() && ' proteínas', isItFatRound() && ' gorduras', \"?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"quiz-options\",\n        children: quizOptions.map((option, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n          src: option,\n          alt: `Opção ${idx + 1}`,\n          className: \"icon\",\n          onClick: () => handleOptionClick(option)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 37\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }, this)\n  }, void 0, false);\n}\n\n_s(Quiz, \"KQAlx8Ta2TxyPvtiVQzUHqcnVys=\", false, function () {\n  return [useSelector, useSelector, useSelector];\n});\n\n_c = Quiz;\nexport default Quiz;\n\nvar _c;\n\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","Feedback","useNavigate","Quiz","round","setRound","quizOptions","setQuizOptions","showFeedback","setShowFeedback","answeredCorrectly","setAnsweredCorrectly","carbs","state","foods","prots","fats","includeRandomFoodInQuizOptions","foodArray","randomFood","Math","floor","random","length","areFoodArraysNotDefined","isQuizOver","isItProteinRound","isItCarbRound","isItFatRound","handleOptionClick","option","includes","handleFeedbackBtnClick","redirec","getFeedbackVariant","map","idx"],"sources":["/home/dwight/workspaces/javascript/projects/alimentacao-balanceada/frontend/src/components/Quiz/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Feedback from '../Feedback'\nimport { useNavigate } from 'react-router-dom'\nimport './styles.scss'\n\nfunction Quiz() {\n\n    const [round, setRound] = useState(0)\n    const [quizOptions, setQuizOptions] = useState([])\n    const [showFeedback, setShowFeedback] = useState(false)\n    const [answeredCorrectly, setAnsweredCorrectly] = useState()\n\n    const carbs = useSelector((state) => state.foods.carbs)\n    const prots = useSelector((state) => state.foods.prots)\n    const fats = useSelector((state) => state.foods.fats)\n\n    useEffect(() => {\n        function includeRandomFoodInQuizOptions(foodArray) {\n            const randomFood = foodArray[Math.floor(Math.random() * foodArray.length)]\n            setQuizOptions((state) => [...state, randomFood])\n        }\n\n        const areFoodArraysNotDefined = carbs.length === 0\n        if (areFoodArraysNotDefined)\n            return\n\n        setQuizOptions([])\n\n        includeRandomFoodInQuizOptions(carbs)\n        includeRandomFoodInQuizOptions(prots)\n        includeRandomFoodInQuizOptions(fats)\n\n    }, [round, carbs, prots, fats])\n\n    useEffect(() => {\n        if (isQuizOver())\n            setShowFeedback(true)\n    }, [round])\n\n\n    const isItProteinRound = () => (round === 0 || round === 1)\n    const isItCarbRound = () => (round === 2 || round === 3)\n    const isItFatRound = () => (round === 4)\n    const isQuizOver = () => (round === 5)\n\n    function handleOptionClick(option) {\n        if (isItCarbRound())\n            setAnsweredCorrectly(carbs.includes(option))\n        if (isItProteinRound())\n            setAnsweredCorrectly(prots.includes(option))\n        if (isItFatRound())\n            setAnsweredCorrectly(fats.includes(option))\n\n        setShowFeedback(true)\n    }\n\n    function handleFeedbackBtnClick() {\n        if (isQuizOver())\n            redirec\n        else if (answeredCorrectly)\n            setRound((state) => state + 1)\n\n        setShowFeedback(false)\n    }\n\n    function getFeedbackVariant() {\n        if (isQuizOver()) \n            return 'end'\n        else if (answeredCorrectly)\n            return 'positive'\n        else \n            return 'negative'\n    }\n\n    return (\n\n        <>\n            {\n                showFeedback ? \n                <Feedback \n                    variant={getFeedbackVariant()}\n                    callback={handleFeedbackBtnClick}\n                /> :\n\n                    <article id=\"quiz\">\n                        <h1>\n                            Quais desses alimentos contém muitas\n                            {isItCarbRound() && ' carboidratos'}\n                            {isItProteinRound() && ' proteínas'}\n                            {isItFatRound() && ' gorduras'}\n                            ?\n                        </h1>\n\n                        <div id='quiz-options'>\n                            {\n                                quizOptions.map((option, idx) => (\n                                    <img src={option}\n                                        alt={`Opção ${idx + 1}`}\n                                        className='icon'\n                                        onClick={() => handleOptionClick(option)} />\n                                ))\n                            }\n                        </div>\n\n                    </article>\n            }\n        </>\n    )\n}\n\nexport default Quiz"],"mappings":"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"},"metadata":{},"sourceType":"module"}