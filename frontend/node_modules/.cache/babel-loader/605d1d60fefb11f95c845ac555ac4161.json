{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { callNextAnimationFrame } from '../redux/animation';\n\nfunction useAudioInAnimation(audioSrc) {\n  _s();\n\n  const animationFrameIdx = useSelector(state => state.animation.animationFrameIdx);\n  const dispatch = useDispatch();\n  const audioRef = useRef(new Audio(audioSrc));\n  useEffect(() => {\n    audioRef.current.play();\n    audioRef.current.addEventListener('ended', handleAudioEnding);\n    return () => {\n      audioRef.current.removeEventListener('ended', handleAudioEnding);\n    };\n  }, []);\n\n  function handleAudioEnding() {\n    dispatch(callNextAnimationFrame());\n  }\n}\n\n_s(useAudioInAnimation, \"1s0mf4cjC9wsJDCwYslELdfxlRI=\", true, function () {\n  return [useDispatch];\n});\n\nexport default useAudioInAnimation;","map":{"version":3,"names":["React","useEffect","useRef","useDispatch","callNextAnimationFrame","useAudioInAnimation","audioSrc","animationFrameIdx","useSelector","state","animation","dispatch","audioRef","Audio","current","play","addEventListener","handleAudioEnding","removeEventListener"],"sources":["/home/dwight/workspaces/javascript/projects/alimentacao-balanceada/frontend/src/hooks/useAudioInAnimation.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { callNextAnimationFrame } from '../redux/animation'\n\nfunction useAudioInAnimation(audioSrc) {\n\n    const animationFrameIdx = useSelector(state => state.animation.animationFrameIdx)\n    const dispatch = useDispatch()\n    const audioRef = useRef(new Audio(audioSrc))\n\n\n    useEffect(() => {\n\n        audioRef.current.play()\n        audioRef.current.addEventListener('ended', handleAudioEnding)\n\n        return () => {\n            audioRef.current.removeEventListener('ended', handleAudioEnding)\n        }\n    }, [])\n\n    function handleAudioEnding() {\n        dispatch(callNextAnimationFrame())\n    }\n\n}\n\nexport default useAudioInAnimation"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,sBAAT,QAAuC,oBAAvC;;AAEA,SAASC,mBAAT,CAA6BC,QAA7B,EAAuC;EAAA;;EAEnC,MAAMC,iBAAiB,GAAGC,WAAW,CAACC,KAAK,IAAIA,KAAK,CAACC,SAAN,CAAgBH,iBAA1B,CAArC;EACA,MAAMI,QAAQ,GAAGR,WAAW,EAA5B;EACA,MAAMS,QAAQ,GAAGV,MAAM,CAAC,IAAIW,KAAJ,CAAUP,QAAV,CAAD,CAAvB;EAGAL,SAAS,CAAC,MAAM;IAEZW,QAAQ,CAACE,OAAT,CAAiBC,IAAjB;IACAH,QAAQ,CAACE,OAAT,CAAiBE,gBAAjB,CAAkC,OAAlC,EAA2CC,iBAA3C;IAEA,OAAO,MAAM;MACTL,QAAQ,CAACE,OAAT,CAAiBI,mBAAjB,CAAqC,OAArC,EAA8CD,iBAA9C;IACH,CAFD;EAGH,CARQ,EAQN,EARM,CAAT;;EAUA,SAASA,iBAAT,GAA6B;IACzBN,QAAQ,CAACP,sBAAsB,EAAvB,CAAR;EACH;AAEJ;;GArBQC,mB;UAGYF,W;;;AAoBrB,eAAeE,mBAAf"},"metadata":{},"sourceType":"module"}